extends layouts/default.pug 

block main 
    .container.mx-auto.px-4.py-8(style="min-height: 60vh;")
        h1.text-2xl.mb-6.mt-4 
            | Kết quả tìm kiếm cho: 
            span.font-bold(style="color: #ee4d2d;") "#{keyword}"
        
        if products.length > 0
            div(class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4")
                each item in products
                    //- SỬA TẠI ĐÂY: Dùng thẻ 'a' bao quanh để chuyển trang
                    a(
                        href=`/sanpham/${item._id}` 
                        class="bg-white rounded shadow hover:shadow-lg transition block overflow-hidden cursor-pointer group"
                    )
                        div(class="relative w-full pt-[100%]")
                            img.absolute.top-0.left-0.w-full.h-full.object-cover(src=item.image || 'https://via.placeholder.com/150' alt=item.name)
                        
                        .p-3
                            h3(class="text-sm line-clamp-2 min-h-[40px] group-hover:text-orange-500")= item.name
                            .flex.items-center.justify-between.mt-2
                                span.text-orange-500.font-bold= item.price ? item.price.toLocaleString() + ' đ' : 'Liên hệ'
                                span.text-xs.text-gray-500 Đã bán 100+
        else
            .text-center.py-12.text-gray-500 Không tìm thấy sản phẩm nào.
block scripts
  script(src="/js/search.js")